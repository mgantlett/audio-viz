<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Visual Sync</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#2196F3',
                            50: '#E3F2FD',
                            100: '#BBDEFB',
                            200: '#90CAF9',
                            300: '#64B5F6',
                            400: '#42A5F5',
                            500: '#2196F3',
                            600: '#1E88E5',
                            700: '#1976D2',
                            800: '#1565C0',
                            900: '#0D47A1'
                        },
                        dark: {
                            DEFAULT: 'rgba(13, 13, 17, 0.98)',
                            50: 'rgba(20, 20, 30, 0.95)',
                            100: 'rgba(25, 25, 35, 0.9)'
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.2s ease-out',
                        'slide-up': 'slideUp 0.2s ease-out'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(0.5rem)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>
    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    
    <!-- Main Entry Point -->
    <script type="module" src="/src/index.ts"></script>

    <style>
        /* Critical styles that need to be loaded immediately */
        #app {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }

        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* Ensure menu is always on top */
        [data-menu-component="container"] {
            position: fixed !important;
            top: 1rem !important;
            right: 1rem !important;
            z-index: 9999 !important;
            pointer-events: auto !important;
        }

        [data-menu-component="toggle"] {
            position: relative !important;
            display: flex !important;
            opacity: 1 !important;
            visibility: visible !important;
            pointer-events: auto !important;
        }
    </style>
</head>
<body class="m-0 p-0 bg-black text-white font-sans overflow-hidden">
    <div id="app">
        <main id="canvas-container"></main>
        <!-- Menu will be mounted here by JavaScript -->
    </div>
</body>
</html>
